(this.webpackJsonpCRM_Business=this.webpackJsonpCRM_Business||[]).push([[0],{15:function(e,t,n){e.exports={localContainer:"signIn_localContainer__22dhl",form__authorization:"signIn_form__authorization__3glBq",formGreetingHeadline:"signIn_formGreetingHeadline__3vFnE",formGreetingHeadline__big:"signIn_formGreetingHeadline__big__2ooHH",formWelcoming__img:"signIn_formWelcoming__img__185RQ",btn__submit:"signIn_btn__submit__31aLf",logo:"signIn_logo__1XFjw"}},19:function(e,t,n){e.exports={promotions:"promotions_promotions__3QeE6",promotions__element:"promotions_promotions__element__1HRqo",promotions__image:"promotions_promotions__image__3MzrV"}},2:function(e,t,n){e.exports={nav:"navbar_nav__fq6wt",navList:"navbar_navList__1138I",navElement:"navbar_navElement__2bmar",navLink:"navbar_navLink__nj3Ar",leftSideList__logo:"navbar_leftSideList__logo___BCxc",leftSideList:"navbar_leftSideList__1pXhv",currentRegion:"navbar_currentRegion__IetRP",regionsNavbar_active:"navbar_regionsNavbar_active__2ZgQ7",regionsNavbar:"navbar_regionsNavbar__r9djl",regionsNavbar__element:"navbar_regionsNavbar__element__3AUhH",listFetchedResults:"navbar_listFetchedResults__3i9iV",rightSideList:"navbar_rightSideList__3mBhr",hamburgerMenuCont:"navbar_hamburgerMenuCont__23o4d",hamburger:"navbar_hamburger__3qzzV",showing:"navbar_showing__1-uWJ",hamburgerElement:"navbar_hamburgerElement__2LpnM",hamburgerToggler:"navbar_hamburgerToggler__1sHmA",hamburgerTogglerActive:"navbar_hamburgerTogglerActive__1Nkfj",hamburgerTogglerElement:"navbar_hamburgerTogglerElement__2CTtM",navElementRegionsContainer:"navbar_navElementRegionsContainer__2YOry"}},26:function(e,t,n){e.exports={catalogCont:"catalog_catalogCont__2-HhH"}},28:function(e,t,n){e.exports={noOrders__icon:"orders_noOrders__icon__3LA4f"}},29:function(e,t,n){e.exports={noHistory__icon:"history_noHistory__icon__1JUuz"}},30:function(e,t,n){e.exports={noItems__icon:"checkOut_noItems__icon__2sSyf"}},36:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(18),s=n.n(c),i=(n(36),n(7)),o=n.n(i),l=n(13),u=n(24),m=n(31),b=n(4),j=n(8),d=n(5),h=n(26),g=n.n(h),_=n(14),f=n(2),O=n.n(f),p=n.p+"static/media/logo.a415917f.png",x=n(6),v=Object(x.b)("regions/getRegions",function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/regions/regionsGet");case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=Object(x.c)({name:"regions",initialState:{currentRegion:null,areRegions:!1,regions:[]},reducers:{},extraReducers:function(e){e.addCase(v.fulfilled,(function(e,t){var n=t.payload.regionsResult;n.sort((function(e,t){return e.order-t.order})),n.forEach((function(t,n){0===n?e.currentRegion=t:e.regions.push(t)})),e.areRegions=!0}))}}).reducer,y=function(e,t){var n=Object(r.useState)(t),a=Object(_.a)(n,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){var t=function(t){null===e.current||e.current.contains(t.target)||s(!c)};return c&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}),[c,e]),[c,s]},C=n(0),k=function(){var e=Object(d.c)((function(e){return e.regions})),t=Object(d.b)(),n=Object(r.useRef)(null),a=Object(r.useRef)(null),c=y(a,!1),s=Object(_.a)(c,2),i=s[0],o=s[1],l=y(n,!1),u=Object(_.a)(l,2),m=u[0],b=u[1];return Object(r.useEffect)((function(){e.areRegions||t(v())}),[t,e.areRegions]),Object(C.jsxs)("nav",{className:O.a.nav,children:[Object(C.jsxs)("ul",{className:O.a.leftSideList,children:[Object(C.jsx)("li",{className:O.a.navElement,children:Object(C.jsx)(j.b,{className:O.a.navLink,to:"/catalog",children:Object(C.jsx)("img",{className:O.a.leftSideList__logo,width:"80px",height:"80px",src:p,alt:"Logo"})})}),Object(C.jsx)("li",{className:O.a.navElementRegionsContainer,children:e.areRegions?Object(C.jsxs)("ul",{onClick:function(){return b(!m)},ref:n,className:m?O.a.regionsNavbar_active:O.a.regionsNavbar,children:[Object(C.jsx)("li",{className:O.a.regionsNavbar__element,children:Object(C.jsxs)("span",{className:O.a.currentRegion,children:[e.currentRegion.title,Object(C.jsx)("i",{children:Object(C.jsx)("svg",{fill:"white",version:"1.1",xmlns:"http://www.w3.org/2000/svg",y:"0px",width:"12.847px",height:"12.847px",viewBox:"0 0 451.847 451.847",children:Object(C.jsx)("g",{children:Object(C.jsx)("path",{d:"M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751\r c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0\r c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"})})})})]})}),m?Object(C.jsx)("ul",{className:O.a.listFetchedResults,children:e.regions.filter((function(t){return t._id!==e.currentRegion._id})).map((function(e){return Object(C.jsx)("li",{className:O.a.regionsNavbar__element,children:e.title},e._id)}))}):null]}):null})]}),Object(C.jsxs)("ul",{className:O.a.navList,children:[Object(C.jsx)("li",{className:O.a.navElement,children:Object(C.jsx)(j.b,{className:O.a.navLink,to:"/catalog",children:"Catalog"})}),Object(C.jsx)("li",{className:O.a.navElement,children:Object(C.jsx)(j.b,{className:O.a.navLink,to:"/orders",children:"My Orders"})}),Object(C.jsx)("li",{className:O.a.navElement,children:Object(C.jsx)(j.b,{className:O.a.navLink,to:"/history",children:"History"})}),Object(C.jsx)("li",{className:O.a.navElement,children:Object(C.jsx)(j.b,{className:O.a.navLink,to:"/promotions",children:"Promotions"})})]}),Object(C.jsx)("ul",{className:O.a.rightSideList,children:Object(C.jsx)("li",{className:O.a.navElement,children:Object(C.jsx)(j.b,{className:O.a.navLink,to:"/checkout",children:Object(C.jsxs)("svg",{width:"35px",fill:"white",viewBox:"0 -31 512.00026 512",xmlns:"http://www.w3.org/2000/svg",children:[Object(C.jsx)("path",{d:"m164.960938 300.003906h.023437c.019531 0 .039063-.003906.058594-.003906h271.957031c6.695312 0 12.582031-4.441406 14.421875-10.878906l60-210c1.292969-4.527344.386719-9.394532-2.445313-13.152344-2.835937-3.757812-7.269531-5.96875-11.976562-5.96875h-366.632812l-10.722657-48.253906c-1.527343-6.863282-7.613281-11.746094-14.644531-11.746094h-90c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h77.96875c1.898438 8.550781 51.3125 230.917969 54.15625 243.710938-15.941406 6.929687-27.125 22.824218-27.125 41.289062 0 24.8125 20.1875 45 45 45h272c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15h-272c-8.269531 0-15-6.730469-15-15 0-8.257812 6.707031-14.976562 14.960938-14.996094zm312.152343-210.003906-51.429687 180h-248.652344l-40-180zm0 0"}),Object(C.jsx)("path",{d:"m150 405c0 24.8125 20.1875 45 45 45s45-20.1875 45-45-20.1875-45-45-45-45 20.1875-45 45zm45-15c8.269531 0 15 6.730469 15 15s-6.730469 15-15 15-15-6.730469-15-15 6.730469-15 15-15zm0 0"}),Object(C.jsx)("path",{d:"m362 405c0 24.8125 20.1875 45 45 45s45-20.1875 45-45-20.1875-45-45-45-45 20.1875-45 45zm45-15c8.269531 0 15 6.730469 15 15s-6.730469 15-15 15-15-6.730469-15-15 6.730469-15 15-15zm0 0"})]})})})}),Object(C.jsxs)("ul",{className:O.a.hamburgerMenuCont,children:[Object(C.jsxs)("span",{className:"".concat(O.a.hamburgerToggler," ").concat("".concat(i?O.a.hamburgerTogglerActive:O.a.hamburgerTogglerInactive||"inactive")),onClick:function(){o(!i),document.body.classList.toggle("bodyDisabled")},children:[Object(C.jsx)("span",{className:O.a.hamburgerTogglerElement}),Object(C.jsx)("span",{className:O.a.hamburgerTogglerElement}),Object(C.jsx)("span",{className:O.a.hamburgerTogglerElement})]}),i?Object(C.jsxs)("div",{className:O.a.hamburger,ref:a,children:[Object(C.jsx)(j.b,{className:O.a.hamburgerElement,to:"/catalog",children:"Catalog"}),Object(C.jsx)(j.b,{className:O.a.hamburgerElement,to:"/orders",children:"My Orders"}),Object(C.jsx)(j.b,{className:O.a.hamburgerElement,to:"/history",children:"History"}),Object(C.jsx)(j.b,{className:O.a.hamburgerElement,to:"/promotions",children:"Promotions"}),Object(C.jsx)(j.b,{className:O.a.hamburgerElement,to:"/checkout",children:"Check out"})]}):null]})]})},E=function(e){var t=e.children;return Object(r.useEffect)((function(){document.body.style.cssText="background: linear-gradient(to left, #0d0d0d, #434343)",document.body.classList.remove("bodyDisabled")}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)(k,{}),Object(C.jsx)("main",{children:t})]})})},w=Object(x.b)("categories/getCategories",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/categories/categoriesGet",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({region:n.getState().regions.currentRegion._id})});case 2:if(!(r=e.sent).ok){e.next=7;break}return e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(x.c)({name:"categories",initialState:{areCategories:!1,categories:[]},reducers:{},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){t.payload.result.forEach((function(t){return e.categories.push(t)})),e.areCategories=!0}))}}).reducer,T=function(){var e=Object(d.c)((function(e){return e.categories})),t=Object(d.c)((function(e){return e.regions.currentRegion})),n=Object(d.b)();return Object(r.useEffect)((function(){document.title="SCK Business \ud83d\udcbc",!e.areCategories&&t&&n(w())}),[n,e.areCategories,t]),Object(C.jsxs)(E,{children:[Object(C.jsx)("h2",{className:"component__headline",children:"Categories"}),Object(C.jsx)("ul",{className:g.a.catalogCont,children:e.areCategories?Object(C.jsx)(C.Fragment,{children:e.categories.map((function(e){return Object(C.jsx)("li",{children:e.categoryName},e._id)}))}):null})]})},L=function(){return Object(r.useEffect)((function(){document.title="Not found"}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("h2",{children:"Not found"})})},R=Object(x.c)({name:"alert",initialState:{message:"",isCreated:!1},reducers:{alert:function(e,t){if(!1===e.isCreated){var n=document.createElement("div"),r=document.createElement("div");n.id="alertMessageBlockParent",r.id="alertMessageBlockParent__element",r.innerText="".concat(t.payload.message),document.body.appendChild(n),n.appendChild(r),e.isCreated=!0,setTimeout((function(){r.parentNode.removeChild(r)}),4300)}else{var a=document.createElement("div");a.id="alertMessageBlockParent__element",a.innerText="".concat(t.payload.message),document.getElementById("alertMessageBlockParent").appendChild(a),setTimeout((function(){a.parentNode.removeChild(a)}),4300)}}}}),I=R.actions.alert,P=R.reducer,H=n(27),B=n.n(H).a.get("token"),M=Object(x.c)({name:"auth",initialState:{isInSystem:!!B,token:!!B,isTokenTrusted:!1,email:"",name:""},reducers:{letInSystem:function(e,t){e.isInSystem=!0},insertDataAuth:function(e,t){e.email=t.payload.email,e.name=t.payload.name,e.isTokenTrusted=!0}}}),F=M.actions,z=F.letInSystem,A=F.insertDataAuth,G=M.reducer,J=n(15),q=n.n(J),D=n.p+"static/media/formWelcoming.98d2af28.svg";function W(){Object(r.useEffect)((function(){document.title="Sign in \ud83d\udc4b",document.body.style.cssText="background-image: linear-gradient(155deg, #2d3436 0%, #0c0c0c 74%);"}),[]);var e=Object(d.c)((function(e){return e.auth})),t=Object(d.b)(),n=Object(r.useState)(""),a=Object(_.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),u=Object(_.a)(i,2),m=u[0],j=u[1];return e.isInSystem?Object(C.jsx)(b.a,{to:"/catalog"}):Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:q.a.localContainer,children:[Object(C.jsx)("img",{width:"90px",height:"90px",className:q.a.logo,src:p,alt:"Logo"}),Object(C.jsxs)("form",{className:q.a.form__authorization,onSubmit:function(e){return function(e){e.preventDefault(),fetch("/api/user/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:m})}).then(function(){var e=Object(l.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:(r=e.sent).error?t(I({message:"".concat(r.error)})):(localStorage.setItem("refreshToken",r.refreshToken),t(z(!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t(I({message:"".concat(e)}))}))}(e)},children:[Object(C.jsx)("h4",{className:q.a.formGreetingHeadline,children:"\u0412\u0445\u043e\u0434 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 \u0434\u043b\u044f \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"}),Object(C.jsx)("h4",{className:q.a.formGreetingHeadline__big,children:"Log In your Account"}),Object(C.jsx)("img",{className:q.a.formWelcoming__img,src:D,alt:"form greeting"}),Object(C.jsx)("label",{htmlFor:"email",children:Object(C.jsx)("input",{required:!0,value:c,onChange:function(e){return s(e.target.value)},id:"email",name:"email",type:"email",placeholder:"email"})}),Object(C.jsx)("label",{htmlFor:"password",children:Object(C.jsx)("input",{required:!0,value:m,onChange:function(e){return j(e.target.value)},type:"password",minLength:"6",id:"password",name:"password",placeholder:"password"})}),Object(C.jsx)("button",{className:q.a.btn__submit,type:"submit",children:"Continue"})]})]})})}var Q=n(19),V=n.n(Q),U=Object(x.b)("promotions/getPromotions",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/promotions/promotionsGet");case 2:if(!(r=e.sent).ok){e.next=7;break}return e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),X=Object(x.c)({name:"promotions",initialState:{arePromotions:!1,promotions:[]},reducers:{},extraReducers:function(e){e.addCase(U.fulfilled,(function(e,t){t.payload.promotionsResult.forEach((function(t){return e.promotions.push(t)})),e.arePromotions=!0}))}}).reducer,Y=function(){var e=Object(d.c)((function(e){return e.promotions})),t=Object(d.b)();return Object(r.useEffect)((function(){document.title="Promotions",e.arePromotions||t(U())}),[t,e.arePromotions]),Object(C.jsxs)(E,{children:[Object(C.jsx)("h1",{className:"component__headline",children:"Promotions"}),e.arePromotions?Object(C.jsx)("div",{className:V.a.promotions,children:e.promotions.map((function(e){return Object(C.jsx)("a",{className:V.a.promotions__element,href:e.linkToBuy,children:Object(C.jsx)("img",{className:V.a.promotions__image,src:e.path,alt:"promotion"})},e._id)}))}):null]})},K=n(28),Z=n.n(K),$=n.p+"static/media/box.7bee2500.svg",ee=function(){return Object(r.useEffect)((function(){document.title="Orders"}),[]),Object(C.jsx)(E,{children:Object(C.jsxs)("section",{className:"emptySection",children:[Object(C.jsx)("h2",{className:"component__headline",children:"No orders"}),Object(C.jsx)("img",{className:Z.a.noOrders__icon,src:$,alt:"box"})]})})},te=n.p+"static/media/history .9472ff8d.svg",ne=n(29),re=n.n(ne),ae=function(){return Object(r.useEffect)((function(){document.title="History"}),[]),Object(C.jsx)(E,{children:Object(C.jsxs)("section",{className:"emptySection",children:[Object(C.jsx)("h2",{className:"component__headline",children:"No history yet"}),Object(C.jsx)("img",{className:re.a.noHistory__icon,src:te,alt:"history"})]})})},ce=n(30),se=n.n(ce),ie=n.p+"static/media/cart.8995abc5.svg",oe=function(){return Object(r.useEffect)((function(){document.title="Check out"}),[]),Object(C.jsx)(E,{children:Object(C.jsxs)("section",{className:"emptySection",children:[Object(C.jsx)("h2",{className:"component__headline",children:"Your cart is empty"}),Object(C.jsx)("img",{className:se.a.noItems__icon,src:ie,alt:"boxes"})]})})},le=["children"];function ue(e){var t=e.children,n=Object(m.a)(e,le),r=Object(d.c)((function(e){return e.auth.isInSystem}));return Object(C.jsx)(b.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){var n=e.location;return!1===!r?t:Object(C.jsx)(b.a,{to:{pathname:"/signIn",state:{from:n}}})}}))}function me(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isInSystem}));return Object(r.useEffect)((function(){t&&fetch("/api/user/verify",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:if(!(r=t.sent).error){t.next=9;break}return a=localStorage.getItem("refreshToken"),t.next=7,fetch("/api/user/refreshToken",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:a})});case 7:t.next=11;break;case 9:c=r.email,s=r.name,e(A({email:c,name:s}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e(I({message:"".concat(t)}))}))}),[t,e]),Object(C.jsx)(j.a,{children:Object(C.jsxs)(b.d,{children:[Object(C.jsx)(ue,{exact:!0,path:"/",children:Object(C.jsx)(b.a,{to:"/catalog"})}),Object(C.jsx)(ue,{exact:!0,path:"/catalog",children:Object(C.jsx)(T,{})}),Object(C.jsx)(ue,{exact:!0,path:"/promotions",children:Object(C.jsx)(Y,{})}),Object(C.jsx)(ue,{exact:!0,path:"/orders",children:Object(C.jsx)(ee,{})}),Object(C.jsx)(ue,{exact:!0,path:"/history",children:Object(C.jsx)(ae,{})}),Object(C.jsx)(ue,{exact:!0,path:"/checkout",children:Object(C.jsx)(oe,{})}),Object(C.jsx)(b.b,{path:"/signIn",children:Object(C.jsx)(W,{})}),Object(C.jsx)(b.b,{path:"*",children:Object(C.jsx)(L,{})})]})})}var be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},je=Object(x.a)({reducer:{alert:P,auth:G,regions:N,promotions:X,categories:S}});s.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(d.a,{store:je,children:Object(C.jsx)(me,{})})}),document.getElementById("root")),be()}},[[48,1,2]]]);
//# sourceMappingURL=main.7367285e.chunk.js.map